<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Produção - Fábrica de Papel</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --success-color: #27ae60;
            --warning-color: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .date-display {
            font-size: 18px;
            color: #7f8c8d;
        }
        
        .machines-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .machine {
            flex: 1;
            min-width: 300px;
            background-color: var(--light-color);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .machine-header {
            background-color: var(--primary-color);
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .result-box {
            background-color: white;
            padding: 10px;
            border-radius: 4px;
            border-left: 4px solid var(--secondary-color);
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .product-section {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .product-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 8px;
            border-radius: 5px;
            margin-bottom: 10px;
            text-align: center;
            font-weight: bold;
        }
        
        .sub-header {
            background-color: #bdc3c7;
            color: var(--primary-color);
            padding: 5px;
            border-radius: 3px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .btn-container {
            text-align: center;
            margin: 30px 0;
        }
        
        .btn {
            background-color: var(--success-color);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 0 10px;
        }
        
        .btn:hover {
            background-color: #219652;
        }
        
        .btn-copy {
            background-color: var(--secondary-color);
        }
        
        .btn-copy:hover {
            background-color: #2980b9;
        }
        
        .export-container {
            margin-top: 30px;
            padding: 20px;
            border: 2px dashed #bdc3c7;
            border-radius: 8px;
        }
        
        .text-output {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
        }
        
        @media (max-width: 768px) {
            .machines-container {
                flex-direction: column;
            }
            
            .btn {
                display: block;
                width: 100%;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Controle de Produção - Fábrica de Papel</h1>
            <div class="date-display" id="currentDate"></div>
        </header>
        
        <div class="machines-container">
            <!-- Máquina 1 -->
            <div class="machine" id="machine1">
                <div class="machine-header">MÁQUINA 1</div>
                
                <div class="input-group">
                    <label for="client1">Cliente:</label>
                    <input type="text" id="client1" placeholder="Ex: Cibrapel">
                </div>
                
                <div class="input-group">
                    <label for="gramatura1">Gramatura:</label>
                    <input type="number" id="gramatura1" placeholder="Ex: 100" oninput="calculateProduction(1)">
                </div>
                
                <div class="input-group">
                    <label for="velocidade1">Velocidade:</label>
                    <input type="number" id="velocidade1" placeholder="Ex: 310" oninput="calculateProduction(1)">
                </div>
                
                <div class="input-group">
                    <label>Produção:</label>
                    <div class="result-box" id="producao1">0.00</div>
                </div>
                
                <div class="input-group">
                    <label>Produção Mesa INFERIOR (70%):</label>
                    <div class="result-box" id="producaoInferior1">0.00</div>
                </div>
                
                <div class="input-group">
                    <label>Produção Mesa SUPERIOR (30%):</label>
                    <div class="result-box" id="producaoSuperior1">0.00</div>
                </div>
                
                <!-- COLA SUPERFICIAL -->
                <div class="product-section">
                    <div class="product-header">COLA SUPERFICIAL</div>
                    
                    <div class="input-group">
                        <label for="densidadeSuperficial1">Densidade:</label>
                        <input type="number" id="densidadeSuperficial1" step="0.01" value="1.1" oninput="calculateVazaoSuperficial(1)">
                    </div>
                    
                    <div class="input-group">
                        <label for="mlSuperficial1">ML (ml/min):</label>
                        <input type="number" id="mlSuperficial1" placeholder="Ex: 176" oninput="calculateVazaoSuperficial(1)">
                    </div>
                    
                    <div class="input-group">
                        <label>L/h (litros/hora):</label>
                        <div class="result-box" id="lhSuperficial1">0.00</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Kg/t (kg/tonelada):</label>
                        <div class="result-box" id="kgtSuperficial1">0.00</div>
                    </div>
                </div>
                
                <!-- COLA AKD -->
                <div class="product-section">
                    <div class="product-header">COLA AKD</div>
                    
                    <div class="input-group">
                        <label for="densidadeAKD1">Densidade:</label>
                        <input type="number" id="densidadeAKD1" step="0.01" value="1.0" oninput="calculateVazaoAKD(1)">
                    </div>
                    
                    <!-- INFERIOR -->
                    <div class="sub-header">INFERIOR</div>
                    
                    <div class="input-group">
                        <label for="mlAKDInferior1">ML (ml/min):</label>
                        <input type="number" id="mlAKDInferior1" placeholder="Ex: 100" oninput="calculateVazaoAKD(1)">
                    </div>
                    
                    <div class="input-group">
                        <label>L/h (litros/hora):</label>
                        <div class="result-box" id="lhAKDInferior1">0.00</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Kg/t (kg/tonelada):</label>
                        <div class="result-box" id="kgtAKDInferior1">0.00</div>
                    </div>
                    
                    <!-- SUPERIOR -->
                    <div class="sub-header">SUPERIOR</div>
                    
                    <div class="input-group">
                        <label for="mlAKDSuperior1">ML (ml/min):</label>
                        <input type="number" id="mlAKDSuperior1" placeholder="Ex: 100" oninput="calculateVazaoAKD(1)">
                    </div>
                    
                    <div class="input-group">
                        <label>L/h (litros/hora):</label>
                        <div class="result-box" id="lhAKDSuperior1">0.00</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Kg/t (kg/tonelada):</label>
                        <div class="result-box" id="kgtAKDSuperior1">0.00</div>
                    </div>
                </div>
            </div>
            
            <!-- Máquina 2 -->
            <div class="machine" id="machine2">
                <div class="machine-header">MÁQUINA 2</div>
                
                <div class="input-group">
                    <label for="client2">Cliente:</label>
                    <input type="text" id="client2" placeholder="Ex: Cibrapel">
                </div>
                
                <div class="input-group">
                    <label for="gramatura2">Gramatura:</label>
                    <input type="number" id="gramatura2" placeholder="Ex: 100" oninput="calculateProduction(2)">
                </div>
                
                <div class="input-group">
                    <label for="velocidade2">Velocidade:</label>
                    <input type="number" id="velocidade2" placeholder="Ex: 310" oninput="calculateProduction(2)">
                </div>
                
                <div class="input-group">
                    <label>Produção:</label>
                    <div class="result-box" id="producao2">0.00</div>
                </div>
                
                <div class="input-group">
                    <label>Produção Mesa INFERIOR (70%):</label>
                    <div class="result-box" id="producaoInferior2">0.00</div>
                </div>
                
                <div class="input-group">
                    <label>Produção Mesa SUPERIOR (30%):</label>
                    <div class="result-box" id="producaoSuperior2">0.00</div>
                </div>
                
                <!-- COLA SUPERFICIAL -->
                <div class="product-section">
                    <div class="product-header">COLA SUPERFICIAL</div>
                    
                    <div class="input-group">
                        <label for="densidadeSuperficial2">Densidade:</label>
                        <input type="number" id="densidadeSuperficial2" step="0.01" value="1.1" oninput="calculateVazaoSuperficial(2)">
                    </div>
                    
                    <div class="input-group">
                        <label for="mlSuperficial2">ML (ml/min):</label>
                        <input type="number" id="mlSuperficial2" placeholder="Ex: 176" oninput="calculateVazaoSuperficial(2)">
                    </div>
                    
                    <div class="input-group">
                        <label>L/h (litros/hora):</label>
                        <div class="result-box" id="lhSuperficial2">0.00</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Kg/t (kg/tonelada):</label>
                        <div class="result-box" id="kgtSuperficial2">0.00</div>
                    </div>
                </div>
                
                <!-- COLA AKD -->
                <div class="product-section">
                    <div class="product-header">COLA AKD</div>
                    
                    <div class="input-group">
                        <label for="densidadeAKD2">Densidade:</label>
                        <input type="number" id="densidadeAKD2" step="0.01" value="1.0" oninput="calculateVazaoAKD(2)">
                    </div>
                    
                    <!-- INFERIOR -->
                    <div class="sub-header">INFERIOR</div>
                    
                    <div class="input-group">
                        <label for="mlAKDInferior2">ML (ml/min):</label>
                        <input type="number" id="mlAKDInferior2" placeholder="Ex: 100" oninput="calculateVazaoAKD(2)">
                    </div>
                    
                    <div class="input-group">
                        <label>L/h (litros/hora):</label>
                        <div class="result-box" id="lhAKDInferior2">0.00</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Kg/t (kg/tonelada):</label>
                        <div class="result-box" id="kgtAKDInferior2">0.00</div>
                    </div>
                    
                    <!-- SUPERIOR -->
                    <div class="sub-header">SUPERIOR</div>
                    
                    <div class="input-group">
                        <label for="mlAKDSuperior2">ML (ml/min):</label>
                        <input type="number" id="mlAKDSuperior2" placeholder="Ex: 100" oninput="calculateVazaoAKD(2)">
                    </div>
                    
                    <div class="input-group">
                        <label>L/h (litros/hora):</label>
                        <div class="result-box" id="lhAKDSuperior2">0.00</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Kg/t (kg/tonelada):</label>
                        <div class="result-box" id="kgtAKDSuperior2">0.00</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="btn-container">
            <button class="btn" onclick="generateTextOutput()">Gerar Texto para WhatsApp</button>
            <button class="btn btn-copy" onclick="copyToClipboard()">Copiar Texto</button>
        </div>
        
        <div class="export-container">
            <h3>Texto para enviar pelo WhatsApp:</h3>
            <textarea class="text-output" id="textOutput" readonly></textarea>
        </div>
    </div>

    <script>
        // Exibir data atual
        function updateDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('pt-BR', options);
        }
        
        // Calcular produção
        function calculateProduction(machine) {
            const gramatura = parseFloat(document.getElementById(`gramatura${machine}`).value) || 0;
            const velocidade = parseFloat(document.getElementById(`velocidade${machine}`).value) || 0;
            
            // Cálculo: gramatura x velocidade x 2.55 x 60
            const producao = gramatura * velocidade * 2.55 * 60 / 1000000; // Dividido por 1.000.000 para converter para toneladas
            document.getElementById(`producao${machine}`).textContent = producao.toFixed(2);
            
            // Cálculo das mesas
            const producaoInferior = producao * 0.7;
            const producaoSuperior = producao * 0.3;
            
            document.getElementById(`producaoInferior${machine}`).textContent = producaoInferior.toFixed(2);
            document.getElementById(`producaoSuperior${machine}`).textContent = producaoSuperior.toFixed(2);
            
            // Recalcular vazões que dependem da produção
            calculateVazaoSuperficial(machine);
            calculateVazaoAKD(machine);
        }
        
        // Calcular vazão da cola superficial
        function calculateVazaoSuperficial(machine) {
            const ml = parseFloat(document.getElementById(`mlSuperficial${machine}`).value) || 0;
            const densidade = parseFloat(document.getElementById(`densidadeSuperficial${machine}`).value) || 0;
            const producao = parseFloat(document.getElementById(`producao${machine}`).textContent) || 0;
            
            // Cálculo L/h: ML * 60 / 1000
            const lh = ml * 60 / 1000;
            document.getElementById(`lhSuperficial${machine}`).textContent = lh.toFixed(2);
            
            // Cálculo Kg/t: (L/h * densidade) / produção
            const kgt = producao > 0 ? (lh * densidade) / producao : 0;
            document.getElementById(`kgtSuperficial${machine}`).textContent = kgt.toFixed(2);
        }
        
        // Calcular vazão da cola AKD
        function calculateVazaoAKD(machine) {
            const mlInferior = parseFloat(document.getElementById(`mlAKDInferior${machine}`).value) || 0;
            const mlSuperior = parseFloat(document.getElementById(`mlAKDSuperior${machine}`).value) || 0;
            const densidade = parseFloat(document.getElementById(`densidadeAKD${machine}`).value) || 0;
            
            const producaoInferior = parseFloat(document.getElementById(`producaoInferior${machine}`).textContent) || 0;
            const producaoSuperior = parseFloat(document.getElementById(`producaoSuperior${machine}`).textContent) || 0;
            
            // Cálculo L/h para inferior: ML * 60 / 1000
            const lhInferior = mlInferior * 60 / 1000;
            document.getElementById(`lhAKDInferior${machine}`).textContent = lhInferior.toFixed(2);
            
            // Cálculo Kg/t para inferior: (L/h * densidade) / produção da mesa inferior
            const kgtInferior = producaoInferior > 0 ? (lhInferior * densidade) / producaoInferior : 0;
            document.getElementById(`kgtAKDInferior${machine}`).textContent = kgtInferior.toFixed(2);
            
            // Cálculo L/h para superior: ML * 60 / 1000
            const lhSuperior = mlSuperior * 60 / 1000;
            document.getElementById(`lhAKDSuperior${machine}`).textContent = lhSuperior.toFixed(2);
            
            // Cálculo Kg/t para superior: (L/h * densidade) / produção da mesa superior
            const kgtSuperior = producaoSuperior > 0 ? (lhSuperior * densidade) / producaoSuperior : 0;
            document.getElementById(`kgtAKDSuperior${machine}`).textContent = kgtSuperior.toFixed(2);
        }
        
        // Gerar texto para WhatsApp
        function generateTextOutput() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('pt-BR');
            
            let output = `CONTROLE DE PRODUÇÃO - ${dateStr}\n\n`;
            
            // Máquina 1
            output += "MÁQUINA 1\n";
            output += `Cliente: ${document.getElementById('client1').value || '-'}\n`;
            output += `Gramatura: ${document.getElementById('gramatura1').value || '0'}\n`;
            output += `Velocidade: ${document.getElementById('velocidade1').value || '0'}\n`;
            output += `Produção: ${document.getElementById('producao1').textContent}\n\n`;
            
            output += "COLA SUPERFICIAL\n";
            output += `ML: ${document.getElementById('mlSuperficial1').value || '0'}\n`;
            output += `L/h: ${document.getElementById('lhSuperficial1').textContent}\n`;
            output += `Kg/t: ${document.getElementById('kgtSuperficial1').textContent}\n\n`;
            
            output += "COLA AKD\n";
            output += "INFERIOR\n";
            output += `ML: ${document.getElementById('mlAKDInferior1').value || '0'}\n`;
            output += `L/h: ${document.getElementById('lhAKDInferior1').textContent}\n`;
            output += `Kg/t: ${document.getElementById('kgtAKDInferior1').textContent}\n\n`;
            
            output += "SUPERIOR\n";
            output += `ML: ${document.getElementById('mlAKDSuperior1').value || '0'}\n`;
            output += `L/h: ${document.getElementById('lhAKDSuperior1').textContent}\n`;
            output += `Kg/t: ${document.getElementById('kgtAKDSuperior1').textContent}\n\n`;
            
            // Máquina 2
            output += "MÁQUINA 2\n";
            output += `Cliente: ${document.getElementById('client2').value || '-'}\n`;
            output += `Gramatura: ${document.getElementById('gramatura2').value || '0'}\n`;
            output += `Velocidade: ${document.getElementById('velocidade2').value || '0'}\n`;
            output += `Produção: ${document.getElementById('producao2').textContent}\n\n`;
            
            output += "COLA SUPERFICIAL\n";
            output += `ML: ${document.getElementById('mlSuperficial2').value || '0'}\n`;
            output += `L/h: ${document.getElementById('lhSuperficial2').textContent}\n`;
            output += `Kg/t: ${document.getElementById('kgtSuperficial2').textContent}\n\n`;
            
            output += "COLA AKD\n";
            output += "INFERIOR\n";
            output += `ML: ${document.getElementById('mlAKDInferior2').value || '0'}\n`;
            output += `L/h: ${document.getElementById('lhAKDInferior2').textContent}\n`;
            output += `Kg/t: ${document.getElementById('kgtAKDInferior2').textContent}\n\n`;
            
            output += "SUPERIOR\n";
            output += `ML: ${document.getElementById('mlAKDSuperior2').value || '0'}\n`;
            output += `L/h: ${document.getElementById('lhAKDSuperior2').textContent}\n`;
            output += `Kg/t: ${document.getElementById('kgtAKDSuperior2').textContent}\n`;
            
            document.getElementById('textOutput').value = output;
        }
        
        // Copiar texto para área de transferência
        function copyToClipboard() {
            const textarea = document.getElementById('textOutput');
            textarea.select();
            document.execCommand('copy');
            alert('Texto copiado para a área de transferência!');
        }
        
        // Inicializar a data quando a página carregar
        window.onload = function() {
            updateDate();
            // Calcular valores iniciais
            calculateProduction(1);
            calculateProduction(2);
        };
    </script>
</body>
</html>